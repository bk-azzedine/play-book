<div class="flex flex-col p-5 space-y-6">
  <hlm-toaster  />

  <div class="flex flex-col space-y-8">
    <div>

      <div class="flex flex-row justify-between items-center">
        <span class="text-black text-lg font-bold">Teams</span>
        <div class="flex flex-row space-x-4">
          <button
            hlmBtn
            brnDialogTrigger
            [brnDialogTriggerFor]="dialog"
            class="w-24 h-8 hover:bg-accent hover:text-accent-foreground flex flex-row space-x-2"
            style="animation-delay: 300ms;"
            (click)="$event.stopPropagation()">
            <ng-icon name="lucidePlus" size="17" strokeWidth="4"></ng-icon>
            <span class="text-bg-primary font-medium relative bottom-0.5">Create</span>
          </button>


        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">

      <app-team-card
        *ngFor="let team of userTeams"
        [team]="team"
        [userId]="userId"
        (teamSelected)="onTeamSelected($event)"
        (viewTeam)="onViewTeam($event)">
      </app-team-card>
    </div>

  </div>
</div>
<brn-dialog #dialog>
  <form
    class="w-full flex flex-col items-center justify-center max-w-md mx-auto space-y-6"
    [formGroup]="teamsForm"
    (ngSubmit)="onCreateTeam()"
  >
    <hlm-dialog-content *brnDialogContent="let ctx"
                        class="sm:max-w-xl w-full bg-[#F1F0FC] border-none shadow-lg max-h-[75vh] flex flex-col">
      <div class="text-center">
        <h1 class="text-xl font-bold mb-1">Set up your teams</h1>
        <span>Create teams or departments to organize your documents.</span>
      </div>

      <div class="mb-5">
        <label class="block text-sm font-medium text-black mb-2">Team Name</label>
        <input
          hlmInput
          id="name"
          placeholder="Enter team name"
          formControlName="name"
          class="w-full bg-background border border-indigo-200 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500"
        />
        <hlm-error *ngIf="teamsForm.get('name')?.hasError('maxlength')">the max length for the name is 20
          characters
        </hlm-error>

      </div>

      <div class="mb-5">
        <label class="block text-sm font-medium text-black mb-2">Description</label>
        <textarea
          hlmInput
          id="description"
          formControlName="description"
          placeholder="What's this team about?"
          class="w-full h-24 bg-background border border-indigo-200 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 resize-none"
        ></textarea>
        <hlm-error *ngIf="teamsForm.get('description')?.hasError('maxlength')">the max length for the description is
          200 characters
        </hlm-error>
      </div>

      <div class="flex justify-end gap-3 mt-auto p-6">
        <button
          type="button"
          hlmBtn
          variant="outline"
          class="border-indigo-200 text-indigo-600 hover:bg-indigo-50"
          (click)="ctx.close()">
          Cancel
        </button>
        <button
          (click)="onCreateTeam()"
          type="submit"
          hlmBtn
          class="bg-indigo-600 hover:bg-indigo-700 text-white flex items-center gap-1"
        >
          <ng-icon name="lucidePlus" size="16" color="white"></ng-icon>
          Create Team
        </button>
      </div>
    </hlm-dialog-content>
  </form>
</brn-dialog>

